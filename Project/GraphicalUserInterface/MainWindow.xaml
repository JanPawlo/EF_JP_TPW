<Window x:Class="TP.ConcurrentProgramming.PresentationView.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:TP.ConcurrentProgramming.Presentation.ViewModel;assembly=TP.ConcurrentProgramming.PresentationViewModel"
        mc:Ignorable="d"
        Title="Presentation layer targeting reactive behaviour"
        Height="450" Width="650"
        SizeToContent="Manual"
        WindowStartupLocation="CenterScreen">
	<Window.DataContext>
		<vm:MainWindowViewModel />
	</Window.DataContext>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="*" MaxWidth="100"/>
		</Grid.ColumnDefinitions>

		<!-- Scalable Border with Balls -->
		<Viewbox Grid.Column="0" Stretch="Uniform">
			<Border BorderThickness="4" BorderBrush="Green" Height="420" Width="400" Margin="10">
				<ItemsControl ItemsSource="{Binding Balls}">
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<Canvas />
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Ellipse Width="{Binding Diameter}" Height="{Binding Diameter}" Fill="Blue" />
						</DataTemplate>
					</ItemsControl.ItemTemplate>
					<ItemsControl.ItemContainerStyle>
						<Style TargetType="ContentPresenter">
							<Setter Property="Canvas.Top" Value="{Binding Top}" />
							<Setter Property="Canvas.Left" Value="{Binding Left}" />
						</Style>
					</ItemsControl.ItemContainerStyle>
				</ItemsControl>
			</Border>
		</Viewbox>

		<!-- Scalable Buttons Column -->
		<Viewbox Grid.Column="1" Stretch="Uniform" Margin="10" VerticalAlignment="Center" MaxWidth="50">
			<StackPanel Orientation="Vertical">
				<Button x:Name="StartButton" Content="Start" Width="50" Height="30" Margin="0,5"
                        Command="{Binding StartCommand}"/>
				<Button x:Name="StopButton" Content="Stop" Width="50" Height="30" Margin="0,5"
                        Command="{Binding StopCommand}"/>
				<Button x:Name="ResetButton" Content="Reset" Width="50" Height="30" Margin="0,5"
                        Command="{Binding ResetCommand}"/>
			</StackPanel>
		</Viewbox>
	</Grid>
</Window>